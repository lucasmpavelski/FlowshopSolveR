% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={NEH recommendation models evaluation},
  pdfauthor={Lucas Marcondes Pavelski},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering

\title{NEH recommendation models evaluation}
\author{Lucas Marcondes Pavelski}
\date{11/9/2020}

\begin{document}
\maketitle

\begin{verbatim}
## # A tibble: 48 x 7
##    param               model_name exp_name    .metric .estimator .estimate set  
##    <fct>               <chr>      <fct>       <chr>   <chr>          <dbl> <chr>
##  1 NEH.Init.NEH.Ratio  DT         instance-b~ accura~ multiclass     0.944 test 
##  2 NEH.Init.NEH.First~ DT         instance-b~ accura~ multiclass     0.222 test 
##  3 NEH.Init.NEH.First~ DT         instance-b~ accura~ binary         0.844 test 
##  4 NEH.Init.NEH.First~ DT         instance-b~ accura~ multiclass     0.7   test 
##  5 NEH.Init.NEH.Prior~ DT         instance-b~ accura~ multiclass     0.161 test 
##  6 NEH.Init.NEH.Prior~ DT         instance-b~ accura~ multiclass     0.583 test 
##  7 NEH.Init.NEH.Prior~ DT         instance-b~ accura~ binary         0.583 test 
##  8 NEH.Init.NEH.Inser~ DT         instance-b~ accura~ multiclass     0.193 test 
##  9 NEH.Init.NEH.Ratio  RF         instance-b~ accura~ multiclass     0.949 test 
## 10 NEH.Init.NEH.First~ RF         instance-b~ accura~ multiclass     0.417 test 
## # ... with 38 more rows
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/ml-results-accuracy-1.pdf}

\includegraphics{05-evaluate-models_files/figure-latex/ml-results-f-measure-1.pdf}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-3-1.pdf}

\begin{verbatim}
## Loading required package: rpart
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'rpart'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:dials':
## 
##     prune
\end{verbatim}

\begin{verbatim}
## 
## 
## ##  NEH.Init.NEH.Ratio  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-1.pdf}

\begin{verbatim}
##   ..y    0 0.2 0.5 0.7                                                                             
##     0 [.60 .40 .00 .00] when type is NOIDLE                                 & density_basin >= 0.63
##     0 [.84 .16 .00 .00] when type is NOWAIT                                                        
##     0 [.92 .08 .00 .00] when type is   PERM & entropy >= 0.5                                       
##  0.25 [.14 .86 .00 .00] when type is NOIDLE                                 & density_basin <  0.63
##   0.5 [.13 .23 .64 .00] when type is   PERM & entropy <  0.5 & ratio <  3.7                        
##  0.75 [.02 .05 .38 .55] when type is   PERM & entropy <  0.5 & ratio >= 3.7                        
## 
## 
## ##  NEH.Init.NEH.First.Priority  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-2.pdf}

\begin{verbatim}
##          ..y  abs dev lr_ lr_ lr_ lr_  nm ra_ ra_ ra_ ss_ ss_ ss_ sum                                                                                
##      abs_dif [.24 .00 .24 .05 .00 .02 .12 .07 .12 .12 .00 .00 .00 .02] when no_machines <  50 & mean_skew_per_job <  0.89 & mean_sd_per_machine <  17
##      dev_pij [.00 .75 .00 .00 .00 .00 .00 .00 .00 .00 .00 .00 .00 .25] when no_machines <  50 & mean_skew_per_job >= 0.89                            
##  lr_it_aj_ct [.00 .01 .00 .11 .14 .13 .00 .10 .07 .07 .00 .14 .14 .07] when no_machines <  50 & mean_skew_per_job <  0.89 & mean_sd_per_machine >= 17
##       ss_sra [.00 .00 .00 .00 .00 .00 .31 .00 .00 .00 .62 .00 .00 .06] when no_machines >= 50                                                        
## 
## 
## ##  NEH.Init.NEH.First.PriorityWeighted  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-3.pdf}

\begin{verbatim}
##   ..y                                                                                  
##  0.00 when inf_stability <  11387 & mean_skew_per_machine >= 1                         
##  0.02 when inf_stability >= 11387                                                      
##  0.30 when inf_stability <  11387 & mean_skew_per_machine <  1 & type is         NOWAIT
##  0.71 when inf_stability <  11387 & mean_skew_per_machine <  1 & type is NOIDLE or PERM
## 
## 
## ##  NEH.Init.NEH.First.PriorityOrder  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-4.pdf}

\begin{verbatim}
##      ..y  dec hil inc lo_ lo_ val                                                                                                
##     decr [.75 .08 .17 .00 .00 .00] when mean_sd_per_job >= 10 & ratio <  5.5 & type is NOWAIT or PERM                            
##     hill [.15 .85 .00 .00 .00 .00] when mean_sd_per_job <  10 & ratio <  3.2                                                     
##     incr [.06 .00 .44 .12 .19 .19] when mean_sd_per_job >= 10 & ratio >= 5.5 & type is NOWAIT or PERM                            
##  lo_hilo [.11 .15 .11 .63 .00 .00] when mean_sd_per_job >= 10                & type is         NOIDLE & mean_sd_per_machine <  28
##  lo_lohi [.03 .12 .00 .22 .62 .00] when mean_sd_per_job >= 10                & type is         NOIDLE & mean_sd_per_machine >= 28
##   valley [.08 .12 .00 .00 .00 .80] when mean_sd_per_job <  10 & ratio >= 3.2                                                     
## 
## 
## ##  NEH.Init.NEH.Priority  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-5.pdf}

\begin{verbatim}
##         ..y  abs avg dev kk1 kk2 lr_ lr_ lr_ lr_  nm ra_ ra_ ra_ ss_ ss_ ss_ ss_ ss_ ss_ sum                                                                                 
##     abs_dif [.17 .00 .08 .10 .00 .03 .04 .02 .11 .03 .03 .02 .00 .15 .05 .00 .03 .13 .00 .02] when mean_sd_per_job >= 10 & inf_stability >= 52025                            
##  avgdev_pij [.01 .20 .04 .07 .07 .02 .06 .06 .04 .09 .04 .03 .09 .01 .02 .01 .05 .02 .02 .07] when mean_sd_per_job <  10                                                     
##  ss_srn_rcn [.01 .02 .06 .03 .03 .11 .08 .03 .02 .05 .10 .05 .03 .04 .09 .06 .11 .03 .04 .03] when mean_sd_per_job >= 10 & inf_stability <  52025 & mean_sd_per_machine <  11
##  ss_srs_rcn [.06 .02 .04 .04 .06 .04 .04 .06 .06 .04 .04 .06 .05 .05 .05 .07 .03 .06 .08 .06] when mean_sd_per_job >= 10 & inf_stability <  52025 & mean_sd_per_machine >= 11
## 
## 
## ##  NEH.Init.NEH.PriorityOrder  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-6.pdf}

\begin{verbatim}
##      ..y  dec hi_ hi_ hil inc lo_ lo_ val                                                                                                
##     decr [.36 .09 .32 .03 .06 .05 .01 .06] when type is NOIDLE or NOWAIT & mean_skew_per_machine >= 0.51 & entropy >= 0.41               
##     decr [.44 .01 .06 .12 .13 .11 .12 .01] when type is             PERM                                 & entropy >= 0.58               
##     hill [.13 .18 .15 .28 .15 .03 .04 .03] when type is NOIDLE or NOWAIT & mean_skew_per_machine <  0.51                   & ratio >= 5.5
##     incr [.23 .05 .00 .12 .49 .04 .00 .06] when type is NOIDLE or NOWAIT & mean_skew_per_machine >= 0.51 & entropy <  0.41               
##  lo_lohi [.02 .07 .05 .13 .10 .21 .30 .12] when type is             PERM                                 & entropy <  0.58               
##   valley [.06 .19 .16 .08 .09 .13 .08 .21] when type is NOIDLE or NOWAIT & mean_skew_per_machine <  0.51                   & ratio <  5.5
## 
## 
## ##  NEH.Init.NEH.PriorityWeighted  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-7.pdf}

\begin{verbatim}
##   ..y                              
##  0.32 when ratio >= 11             
##  0.45 when ratio <  11 & up <  0.49
##  0.56 when ratio <  11 & up >= 0.49
## 
## 
## ##  NEH.Init.NEH.Insertion  decision tree
\end{verbatim}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-4-8.pdf}

\begin{verbatim}
##         ..y  fir kk1 kk2 las nm1                                            
##  first_best [.33 .23 .18 .12 .13] when ratio <  1.6                         
##   last_best [.21 .15 .21 .29 .15] when ratio >= 1.6 & inf_stability >= 16788
##         nm1 [.17 .21 .20 .19 .23] when ratio >= 1.6 & inf_stability <  16788
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'vip'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:utils':
## 
##     vi
\end{verbatim}

\hypertarget{neh.init.neh.ratio}{%
\subsection{NEH.Init.NEH.Ratio}\label{neh.init.neh.ratio}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-1.pdf}

\hypertarget{neh.init.neh.first.priority}{%
\subsection{NEH.Init.NEH.First.Priority}\label{neh.init.neh.first.priority}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-2.pdf}

\hypertarget{neh.init.neh.first.priorityweighted}{%
\subsection{NEH.Init.NEH.First.PriorityWeighted}\label{neh.init.neh.first.priorityweighted}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-3.pdf}

\hypertarget{neh.init.neh.first.priorityorder}{%
\subsection{NEH.Init.NEH.First.PriorityOrder}\label{neh.init.neh.first.priorityorder}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-4.pdf}

\hypertarget{neh.init.neh.priority}{%
\subsection{NEH.Init.NEH.Priority}\label{neh.init.neh.priority}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-5.pdf}

\hypertarget{neh.init.neh.priorityorder}{%
\subsection{NEH.Init.NEH.PriorityOrder}\label{neh.init.neh.priorityorder}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-6.pdf}

\hypertarget{neh.init.neh.priorityweighted}{%
\subsection{NEH.Init.NEH.PriorityWeighted}\label{neh.init.neh.priorityweighted}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-7.pdf}

\hypertarget{neh.init.neh.insertion}{%
\subsection{NEH.Init.NEH.Insertion}\label{neh.init.neh.insertion}}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-5-8.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{best_instance <-}\StringTok{ }\KeywordTok{readRDS}\NormalTok{(}\KeywordTok{file.path}\NormalTok{(TASK_FOLDER, }\StringTok{'results'}\NormalTok{, }\StringTok{'none,instance_best.rda'}\NormalTok{)) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{unnest}\NormalTok{(problem) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{best_fitness =}\NormalTok{ fitness)}

\CommentTok{# test_problems_df()}

\NormalTok{experiments <-}\StringTok{ }\KeywordTok{tribble}\NormalTok{(}
  \OperatorTok{~}\NormalTok{ml_model, }\OperatorTok{~}\NormalTok{strat,}
  \StringTok{'decision_tree'}\NormalTok{, }\StringTok{'instance-based'}\NormalTok{,}
  \StringTok{'decision_tree'}\NormalTok{, }\StringTok{'instance-based-dependencies'}\NormalTok{,}
  \StringTok{'rand_forest'}\NormalTok{, }\StringTok{'instance-based'}\NormalTok{,}
  \StringTok{'rand_forest'}\NormalTok{, }\StringTok{'instance-based-dependencies'}\NormalTok{,}
  \StringTok{'decision_tree'}\NormalTok{, }\StringTok{'ablation'}\NormalTok{,}
  \StringTok{'rand_forest'}\NormalTok{, }\StringTok{'ablation'}\NormalTok{,}
  \StringTok{'none'}\NormalTok{, }\StringTok{'default'}\NormalTok{,}
  \StringTok{'none'}\NormalTok{, }\StringTok{'global_best'}\NormalTok{,}
  \StringTok{'none'}\NormalTok{, }\StringTok{'random'}\NormalTok{,}
\NormalTok{) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{results =} \KeywordTok{pmap}\NormalTok{(., }\ControlFlowTok{function}\NormalTok{(ml_model, strat) }\KeywordTok{file.path}\NormalTok{(TASK_FOLDER,}
                                        \StringTok{'results'}\NormalTok{,}
                                        \KeywordTok{paste0}\NormalTok{(ml_model, }\StringTok{','}\NormalTok{, strat, }\StringTok{'.rda'}\NormalTok{)))) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{results =} \KeywordTok{map}\NormalTok{(results, }\ControlFlowTok{function}\NormalTok{(res) \{}
    \KeywordTok{print}\NormalTok{(res)}
    \KeywordTok{readRDS}\NormalTok{(res)}
\NormalTok{  \})) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{unnest}\NormalTok{(results) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{unnest}\NormalTok{(problem) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{select}\NormalTok{(}\OperatorTok{-}\NormalTok{config, }\OperatorTok{-}\NormalTok{metaopt_problem) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{left_join}\NormalTok{(best_instance) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{rp =} \DecValTok{100} \OperatorTok{*}\StringTok{ }\NormalTok{(fitness }\OperatorTok{-}\StringTok{ }\NormalTok{best_fitness) }\OperatorTok{/}\StringTok{ }\NormalTok{best_fitness)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/decision_tree,instance-based.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/decision_tree,instance-based-dependencies.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/rand_forest,instance-based.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/rand_forest,instance-based-dependencies.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/decision_tree,ablation.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/rand_forest,ablation.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/none,default.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/none,global_best.rda"
## [1] "/home/lucasmp/dev/FlowshopSolveR/data/models/NEH_recommendation/results/none,random.rda"
\end{verbatim}

\begin{verbatim}
## Joining, by = c("row_number()", "dist", "corr", "no_jobs", "no_machines", "problem", "corv", "objective", "type", "stopping_criterion", "budget", "model", "instance_features", "id", "inst_n", "instance")
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{experiments }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(strat, ml_model) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{summarize}\NormalTok{(}
    \DataTypeTok{q00 =} \KeywordTok{quantile}\NormalTok{(rp, }\FloatTok{0.00}\NormalTok{),}
    \DataTypeTok{q25 =} \KeywordTok{quantile}\NormalTok{(rp, }\FloatTok{0.25}\NormalTok{),}
    \DataTypeTok{q50 =} \KeywordTok{quantile}\NormalTok{(rp, }\FloatTok{0.50}\NormalTok{),}
    \DataTypeTok{q75 =} \KeywordTok{quantile}\NormalTok{(rp, }\FloatTok{0.75}\NormalTok{),}
    \DataTypeTok{q1  =} \KeywordTok{quantile}\NormalTok{(rp, }\FloatTok{1.00}\NormalTok{),}
\NormalTok{  ) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\NormalTok{knitr}\OperatorTok{::}\KeywordTok{kable}\NormalTok{(}\DataTypeTok{format =} \StringTok{'latex'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `summarise()` regrouping output by 'strat' (override with `.groups` argument)
\end{verbatim}

\begin{tabular}{l|l|r|r|r|r|r}
\hline
strat & ml\_model & q00 & q25 & q50 & q75 & q1\\
\hline
ablation & decision\_tree & -6.454414 & 0.0774342 & 0.7703340 & 2.8052462 & 74.42786\\
\hline
ablation & rand\_forest & -7.855974 & 0.0000000 & 0.2763155 & 1.4647825 & 67.85636\\
\hline
default & none & -8.489846 & 0.0000000 & 0.4352138 & 1.6293360 & 28.46078\\
\hline
global\_best & none & -9.913169 & 0.0000000 & 0.4488229 & 1.4098469 & 14.31729\\
\hline
instance-based & decision\_tree & -8.911596 & 0.0000000 & 0.1750807 & 0.8874725 & 13.32882\\
\hline
instance-based & rand\_forest & -8.489846 & 0.0000000 & 0.1549657 & 0.8165678 & 24.01786\\
\hline
instance-based-dependencies & decision\_tree & -8.565194 & 0.0000000 & 0.1765974 & 0.8709982 & 10.72643\\
\hline
instance-based-dependencies & rand\_forest & -8.367690 & -0.0083383 & 0.0975155 & 0.6451000 & 16.71320\\
\hline
random & none & -9.319826 & 1.0872599 & 4.5165265 & 15.9898617 & 2137.01230\\
\hline
\end{tabular}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{experiments }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(strat }\OperatorTok{!=}\StringTok{ 'random'}\NormalTok{, ml_model }\OperatorTok{!=}\StringTok{ 'decision_tree'}\NormalTok{) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{model_strat =} \KeywordTok{paste}\NormalTok{(ml_model, strat)) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{ggplot}\NormalTok{() }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_violin}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{ strat, }\DataTypeTok{fill =}\NormalTok{ strat, }\DataTypeTok{y =}\NormalTok{ rp))}
\end{Highlighting}
\end{Shaded}

\includegraphics{05-evaluate-models_files/figure-latex/unnamed-chunk-8-1.pdf}

\end{document}
